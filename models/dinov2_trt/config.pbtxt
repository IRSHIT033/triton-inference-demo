name: "dinov2_trt"
# Either backend or platform is fine; backend is the modern field
backend: "tensorrt"
# platform: "tensorrt_plan"

max_batch_size: 32

input [
  { name: "pixel_values" data_type: TYPE_FP32 dims: [ 3, 224, 224 ] }
]
output [
  # For dinov2-base this is 768; adjust for S=384, L=1024, g=1536
  { name: "image_embeds" data_type: TYPE_FP32 dims: [ 768 ] }
]

dynamic_batching {
  preferred_batch_size: [ 4, 8, 16, 32 ]
  max_queue_delay_microseconds: 1000
}

instance_group [{ kind: KIND_GPU }]
